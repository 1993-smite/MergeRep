@using WebVueTest.Controllers;
@using System.IO;
@using Newtonsoft.Json;
@using Microsoft.AspNetCore.Html;

@{
    Layout = "~/Views/Shared/_LayoutVue3.cshtml";
    ViewData["Title"] = "Vue/Vue3";
}

<style>
    .country {
    }
</style>

<h2>Vue3</h2>

<div id="main" class="container">

    <form>
        <div class="form-group">
            <label for="in">
                Ввод
            </label>

            <input type="text"
                   id="in"
                   class="form-control"
                   v-model="input"
                   placeholder="input your text" />

            <small class="form-text text-muted">{{getResult}}</small>

        </div>

        <div class="form-group">
            <label for="in-begin">
                В начало
            </label>

            <input type="text"
                   id="in-begin"
                   class="form-control"
                   v-model="preInput"
                   placeholder="# " />
        </div>

        <div class="form-group">
            <label for="in-begin-toggle">
                Добавлять в начало?
            </label>
            <input type="checkbox"
                   id="in-begin-toggle"
                   v-model="preInputToggle"
                   />
        </div>    
    </form>
    

</div>

@section Scripts{
    <script type="text/javascript">

        const app = Vue.createApp({
            data: function () {
                return {
                    preInputToggle: true,
                    preInput: '#',
                    input: '',

                }
            },
            computed: {
                getResult: function () {

                    let res = `${this.input}`

                    if (this.preInputToggle) {
                        res = `${this.preInput} ${res}`
                    }

                    return res;
                }
            }
        });

        app.mount('#main')

    </script>
}
